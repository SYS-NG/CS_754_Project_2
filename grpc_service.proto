syntax = "proto3";

package grpc_service;

service GrpcService {
  rpc Ping (PingRequest) returns (PingResponse) {}
  rpc ServerStreamData (DataRequest) returns (stream DataChunk) {}
  rpc ClientStreamData (stream DataChunk) returns (TransferStatus) {}
  rpc SendAndWaitAck (DataChunk) returns (PingResponse) {}
}

message PingRequest {
  string message = 1;
}

message PingResponse {
  string message = 1;
}

message DataChunk {
  bytes data = 1;
}

message TransferStatus {
  bool success = 1;
  int64 bytes_received = 2;
}

message DataRequest {
  int64 size = 1;
}